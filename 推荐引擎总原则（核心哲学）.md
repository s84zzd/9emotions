

* * *

🌟 推荐引擎总原则（核心哲学）
================

你的产品不是“给答案”，而是：

* 读懂用户的 **情绪（emotion）**
* 读懂用户的 **能量趋势（energy trend）**
* 读懂用户的 **场景（scene）**
* 在这三者的交叉点上，给出 **最轻、最温柔、最不打扰的即时活动**

推荐引擎的核心输入：
    emotion (1–2 个)
    scene (6 大场景)
    energy_trend (上升 / 下降 / 混乱 / 平稳)

输出：
    3–5 个即时活动（从 480 条中筛选）

* * *

🌈 一、能量趋势 → 调节方向（direction）映射（一级逻辑）
===================================

能量趋势是整个推荐引擎的“方向盘”。

| 能量趋势         | 定义            | 推荐方向（direction） |
| ------------ | ------------- | --------------- |
| **能量过高（上升）** | 烦躁、紧绷、压力、过度激活 | `cool_down`（降温） |
| **能量过低（下降）** | 无力、疲惫、忧郁、空虚   | `activate`（激活）  |
| **能量混乱（波动）** | 焦虑、慌乱、失控、情绪跳动 | `stabilize`（稳定） |
| **能量平稳（稳定）** | 平静、满足、轻松      | `maintain`（维持）  |

**这是推荐引擎的第一层筛选。**

* * *

🌈 二、情绪 → 调节方向微调（第二层逻辑）
=======================

情绪会对方向做“微调”，避免误判。

例如：

* “烦躁” → 明确需要降温
* “焦虑” → 优先稳定，其次降温
* “无助” → 优先激活，但要温柔
* “忧郁” → 激活，但不能太强
* “满足” → 维持
* “期待” → 维持或轻激活

### 情绪 → direction 微调表

| 情绪  | 优先方向      | 次优方向      |
| --- | --------- | --------- |
| 烦躁  | cool_down | stabilize |
| 压力  | cool_down | stabilize |
| 焦虑  | stabilize | cool_down |
| 无助  | activate  | stabilize |
| 疲惫  | activate  | maintain  |
| 忧郁  | activate  | stabilize |
| 平静  | maintain  | —         |
| 满足  | maintain  | —         |
| 期待  | maintain  | activate  |

**最终方向 = 能量趋势方向 + 情绪微调 → 取最温和的那个。**

* * *

🌈 三、场景（scene）过滤（第三层逻辑）
=======================

场景决定：

* 哪些活动可执行
* 哪些动作不合适
* 哪些行为会让用户“更紧张”

例如：

* social（社交）场景 → 必须隐蔽
* work（工作）场景 → 必须不打断任务
* relationship（亲密关系）→ 必须不制造冲突
* alone（独处）→ 可以更自由
* family（家庭）→ 必须轻柔、不制造负担

### 场景过滤规则（示例）

| 场景           | 过滤逻辑                |
| ------------ | ------------------- |
| work         | 不可离开太久、不做大动作、不打断工作流 |
| study        | 不可强刺激、不跳出学习状态       |
| relationship | 不制造冲突、不引发对方误解       |
| family       | 不制造额外负担、不引发紧张       |
| alone        | 可自由、可身体动作、可表达       |
| social       | 必须隐蔽、不突兀、不引人注意      |

* * *

🌈 四、最终推荐逻辑（完整流程）
=================

以下是你可以直接写进 PRD 或工程文档的版本：

* * *

**推荐引擎伪代码（可直接给工程团队）**
---------------------

    INPUT:
      emotions[] (1–2)
      scene
      energy_trend
    
    STEP 1: Determine primary_direction from energy_trend
      if energy_trend == "high": primary = cool_down
      if energy_trend == "low": primary = activate
      if energy_trend == "chaotic": primary = stabilize
      if energy_trend == "stable": primary = maintain
    
    STEP 2: Adjust direction based on emotions
      for each emotion in emotions:
          direction_score[emotion_preferred_direction] += 1
          direction_score[emotion_secondary_direction] += 0.5
    
      final_direction = direction with highest score
      if conflict: choose the gentlest option (cool_down < stabilize < maintain < activate)
    
    STEP 3: Filter activities by:
      - scene == user.scene
      - direction == final_direction
      - emotions intersects activity.emotions
    
    STEP 4: Rank activities:
      - match_count(emotions) DESC
      - scene fit score
      - micro-intensity (prefer lighter first)
      - novelty (avoid重复)
      - user preference (未来可加)
    
    STEP 5: Output top 3–5 activities

* * *

🌈 五、推荐引擎逻辑（自然语言版，给内容团队 / UI 团队）
================================

1. **先判断能量趋势**
   
   * 太高 → 降温
   * 太低 → 激活
   * 混乱 → 稳定
   * 平稳 → 维持

2. **再看情绪类型**
   
   * 焦虑 → 稳定优先
   * 烦躁 → 降温优先
   * 无助 → 激活优先
   * 忧郁 → 温柔激活
   * 平静/满足 → 维持

3. **再看场景**
   
   * 社交 → 隐蔽
   * 工作 → 不打断
   * 亲密关系 → 不制造冲突
   * 家庭 → 不制造负担
   * 独处 → 自由
   * 学习 → 不跳出状态

4. **从 480 条活动中筛选最合适的 3–5 条**

* * *

🌟 六、最终逻辑矩阵（情绪 × 场景 × 能量趋势）
===========================

你可以把它理解为：
    能量趋势 → direction（一级）
    情绪 → direction 微调（二级）
    场景 → 活动过滤（三级）

最终输出：
    direction × scene → 20 条活动 → 选 3–5 条

* * *


======================
